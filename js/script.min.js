var openMap=document.querySelector(".open-map-big"),modalMap=document.querySelector(".modal-map"),closeMap=document.querySelector(".close-map"),openWriteUs=document.querySelector(".open-write-us"),modalWriteUs=document.querySelector(".modal-write-us"),closeWriteUs=document.querySelector(".close-write-us"),formWriteUs=modalWriteUs.querySelector("form"),userWriteUs=modalWriteUs.querySelector("[name=user-name]"),emailWriteUs=modalWriteUs.querySelector("[name=user-email]"),letterWriteUs=modalWriteUs.querySelector("[name=user-letter]"),storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail");openMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show"),modalWriteUs.classList.contains("modal-show")&&modalWriteUs.classList.remove("modal-show"))}),openWriteUs.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.add("modal-show"),storageName?(userWriteUs.value=storageName,emailWriteUs.focus()):userWriteUs.focus(),storageName&&storageEmail&&(emailWriteUs.value=storageEmail,letterWriteUs.focus())}),closeWriteUs.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.remove("modal-show")}),formWriteUs.addEventListener("submit",function(e){userWriteUs.value?localStorage.setItem("userName",userWriteUs.value):(e.preventDefault(),userWriteUs.classList.remove("modal-error"),userWriteUs.offsetWidth=userWriteUs.offsetWidth,userWriteUs.classList.add("modal-error"),userWriteUs.classList.add("write-us-invalid")),emailWriteUs.value?localStorage.setItem("userEmail",emailWriteUs.value):(e.preventDefault(),emailWriteUs.classList.remove("modal-error"),emailWriteUs.offsetWidth=userWriteUs.offsetWidth,emailWriteUs.classList.add("modal-error"),emailWriteUs.classList.add("write-us-invalid"))}),userWriteUs.addEventListener("focus",function(){userWriteUs.classList.remove("write-us-invalid")}),emailWriteUs.addEventListener("focus",function(){emailWriteUs.classList.remove("write-us-invalid")});